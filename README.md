
# ЁЯУШ PostgreSQL ржирж┐ржпрж╝рзЗ ржХрж┐ржЫрзБ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ (ржмрж╛ржВрж▓рж╛ржпрж╝)

ржПржЗ ржбржХрзБржорзЗржирзНржЯрзЗ ржЖржорж┐ PostgreSQL ржирж┐ржпрж╝рзЗ ржХрж┐ржЫрзБ ржмрзЗрж╕рж┐ржХ ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржжрж┐ржпрж╝рзЗржЫрж┐ред ржЖржорж┐ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЗржЫрж┐ рж╕рж╣ржЬ ржнрж╛рж╖рж╛ржпрж╝ ржмрзЛржЭрж╛рждрзЗред ржЖрж╢рж╛ ржХрж░рж┐ ржПржЯрж╛ ржЖржорж╛рж░ ржорждрзЛ ржирждрзБржиржжрзЗрж░ ржХрж╛ржЬрзЗ рж▓рж╛ржЧржмрзЗред

## рзз. PostgreSQL ржХрж┐?

PostgreSQL (ржкрзЛрж╕рзНржЯржЧрзНрж░рзЗ ржПрж╕ржХрж┐ржЙржПрж▓) рж╣рж▓рзЛ ржПржХржЯрж┐ ржУржкрзЗржи рж╕рзЛрж░рзНрж╕ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрзЗржЯрж╛ржмрзЗржЬ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо (RDBMS)ред ржПржЯрж╛ ржЕржирзЗржХржЯрж╛ MySQL ржПрж░ ржорждрзЛ, ржХрж┐ржирзНрждрзБ ржЖрж░ржУ ржлрж┐ржЪрж╛рж░-рж╕ржорзГржжрзНржз ржПржмржВ ржкрж╛ржУржпрж╝рж╛рж░ржлрзБрж▓ред ржПржЯрж┐ SQL ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрзЗржЯрж╛ ржорзНржпрж╛ржирзЗржЬ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

PostgreSQL ржЕржирзЗржХ ржмржбрж╝ ржмржбрж╝ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗржУ ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝ ржХрж╛рж░ржг ржПрждрзЗ ACID properties ржорзЗржирзЗ ржЪрж▓рзЗ, ржЕрж░рзНржерж╛рзО ржПржЯрж╛ ржЯрзНрж░рж╛ржиржЬрзЗржХрж╢ржи ржирж┐рж░рж╛ржкржж (transaction-safe)ред ржПрждрзЗ JSON, XML, ржПржмржВ ржЕржирзЗржХ ржзрж░ржирзЗрж░ ржбрзЗржЯрж╛ ржЯрж╛ржЗржк рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗред

ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE DATABASE my_database;
```

## рзи. Primary Key ржПржмржВ Foreign Key ржХрж┐?

**Primary Key** ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржХрж▓рж╛ржо ржирж┐ржпрж╝рзЗ рждрзИрж░рж┐ рж╣ржпрж╝ ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХ ржнрж╛ржмрзЗ ржЪрж┐ржирждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПрж░ ржорж╛ржи ржХржЦржирзЛржЗ null рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛ ржПржмржВ рж░рж┐ржкрж┐ржЯ рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред

**Foreign Key** рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрзА ржпрзЗржЯрж╛ ржЕржирзНржп ржХрзЛржи ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрж┐рж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ ржХрж░рзЗред ржПржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржжрзБржЗржЯрж┐ ржЯрзЗржмрж┐рж▓ржХрзЗ ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

ржЙржжрж╛рж╣рж░ржг:

```sql
CREATE TABLE students (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50)
);

CREATE TABLE marks (
  id SERIAL PRIMARY KEY,
  student_id INTEGER REFERENCES students(id),
  score INTEGER NOT NULL
);
```

ржПржЦрж╛ржирзЗ `student_id` рж╣ржЪрзНржЫрзЗ Foreign Key ржпрзЗржЯрж╛ `students` ржЯрзЗржмрж┐рж▓рзЗрж░ `id` ржПрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНрждред

## рзй. SELECT рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗ WHERE ржХрзНрж▓ржЬрзЗрж░ ржХрж╛ржЬ ржХрзА?

`WHERE` ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНржд ржЕржирзБржпрж╛ржпрж╝рзА ржбрзЗржЯрж╛ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред ржПржЯрж┐ ржЫрж╛ржбрж╝рж╛ рж╕ржм ржбрзЗржЯрж╛ ржЪрж▓рзЗ ржЖрж╕рзЗ, ржХрж┐ржирзНрждрзБ ржпржЦржи ржЖржорж░рж╛ ржЪрж╛ржЗ ржпрзЗ рж╢рзБржзрзБ ржХрж┐ржЫрзБ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзЛ ржЖрж╕рзБржХ, рждржЦржи `WHERE` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ред

ржЙржжрж╛рж╣рж░ржг:

```sql
SELECT * FROM students WHERE name = 'Rahim';
```

ржПржЦрж╛ржирзЗ рж╢рзБржзрзБ Rahim ржирж╛ржорзЗрж░ рж╕рзНржЯрзБржбрзЗржирзНржЯрзЗрж░ рждржерзНржп ржЖрж╕ржмрзЗред

## рзк. LIMIT ржПржмржВ OFFSET ржХрзА ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗ?

`LIMIT` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржХрждржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛рждрзЗ ржЪрж╛ржЗ рждрж╛ ржарж┐ржХ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред ржЖрж░ `OFFSET` ржжрж┐ржпрж╝рзЗ ржмрж▓рж╛ ржпрж╛ржпрж╝, ржХрждржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржб рж╕рзНржХрж┐ржк ржХрж░рзЗ рждрж╛рж░ржкрж░ ржжрзЗржЦрж╛рждрзЗ рж╣ржмрзЗред

ржЙржжрж╛рж╣рж░ржг:

```sql
SELECT * FROM students LIMIT 5 OFFSET 10;
```

ржПржЦрж╛ржирзЗ ржкрзНрж░ржержо рззрзжржЯрж┐ рж░рзЗржХрж░рзНржб ржмрж╛ржж ржжрж┐ржпрж╝рзЗ ржкрж░ржмрж░рзНрждрзА рзлржЯрж┐ рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛ржмрзЗред

ржПржЯрж╛ ржкрзЗржЬрж┐ржирзЗрж╢ржи (pagination) ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржЦрзБржмржЗ ржжрж░ржХрж╛рж░рзАред

## рзл. PostgreSQL-ржП COUNT(), SUM(), ржПржмржВ AVG() ржПрж░ ржорждрзЛ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржлрж╛ржВрж╢ржи ржХрж┐ржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржпрж╝?

ржПржЗ ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржбрзЗржЯрж╛рж░ ржЙржкрж░ ржЧрж╛ржгрж┐рждрж┐ржХ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

- **COUNT()** тАУ ржорзЛржЯ ржХрждржЯрж┐ рж░рзЗржХрж░рзНржб ржЖржЫрзЗ рждрж╛ ржжрзЗржЦрж╛ржпрж╝ред
- **SUM()** тАУ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗрж░ рж╕ржм ржорж╛ржи ржпрзЛржЧ ржХрж░рзЗред
- **AVG()** тАУ ржЧржбрж╝ ржмрзЗрж░ ржХрж░рзЗред

ржЙржжрж╛рж╣рж░ржг:

```sql
SELECT COUNT(*) FROM students;
SELECT SUM(score) FROM marks;
SELECT AVG(score) FROM marks;
```

ржПржЗ ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ ржмрж╛ ржбрзЗржЯрж╛ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЬржирзНржп ржЕржирзЗржХ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗред

---